(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{169:function(t,e,n){"use strict";n.r(e);var r=n(0),s=Object(r.a)({},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"content"},[t._m(0),t._v(" "),n("p",[t._v("首先配置支持 HTTPS 必须让 Nginx 开启 "),n("code",[t._v("http_ssl_module")]),t._v(" 模块，"),n("router-link",{attrs:{to:"/guide/nginx-configure-descriptions.html"}},[t._v("点击查看nginx编译安装参数")]),t._v(" ，可以使用"),n("code",[t._v("nginx -V")]),t._v("查看是否开启"),n("code",[t._v("TLS SNI support enabled")]),t._v("。")],1),t._v(" "),n("p",[t._v("购买/生成 SSL 证书，可以使用免费的证书，比如："),n("a",{attrs:{href:"https://imququ.com/post/letsencrypt-certificate.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Let's Encrypt，免费好用的 HTTPS 证书"),n("OutboundLink")],1),t._v(" 。")]),t._v(" "),t._m(1),t._m(2),t._v(" "),t._m(3),t._v(" "),t._m(4),t._v(" "),t._m(5),t._v(" "),n("p",[t._v("使用 "),n("a",{attrs:{href:"https://github.com/Neilpang/acme.sh",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/Neilpang/acme.sh"),n("OutboundLink")],1),t._v(" 支持泛域名证书申请了，好赞。")])])},[function(){var t=this.$createElement,e=this._self._c||t;return e("h1",{attrs:{id:"配置-https"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#配置-https","aria-hidden":"true"}},[this._v("#")]),this._v(" 配置 HTTPS")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language-conf extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("# 配置 HTTPS\n\n# 配置个http的站点，用来做重定向，当然如果你不需要把 HTTP->HTTPS 可以把这个配置删了\nserver {\n    listen       80;\n\n    # 配置域名\n    server_name www.xxoo.com xxoo.com;\n\n    # 添加 STS, 并让所有子域支持, 开启需慎重\n    add_header strict-transport-security 'max-age=31536000; includeSubDomains; preload';\n\n    # 配置让这些 HTTP 的访问全部 301 重定向到 HTTPS 的\n    rewrite ^(.*) https://www.xxoo.com$1 permanent;\n}\n\n# 配置 HTTPS\nserver {\n    # 配置域名\n    server_name www.xxoo.com xxoo.com;\n\n    # https默认端口\n    listen 443;\n\n    # 添加STS, 并让所有子域支持, 开启需慎重\n    add_header strict-transport-security 'max-age=31536000; includeSubDomains; preload';\n\n    # https配置\n    ssl on;\n    ssl_certificate /xxoo/www.xxoo.com.crt;\n    ssl_certificate_key /xxoo/www.xxoo.com.key;\n\n    # 其他按正常配置处理即可...\n}\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("blockquote",[e("p",[this._v("注意，这里证书的格式是 "),e("code",[this._v(".crt")]),this._v(" 的。")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"配置后的访问规则"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#配置后的访问规则","aria-hidden":"true"}},[this._v("#")]),this._v(" 配置后的访问规则")])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("table",[n("thead",[n("tr",[n("th",[t._v("输入链接")]),t._v(" "),n("th",[t._v("最终访问链接")])])]),t._v(" "),n("tbody",[n("tr",[n("td",[t._v("http://www.xxoo.com")]),t._v(" "),n("td",[t._v("https://www.xxoo.com")])]),t._v(" "),n("tr",[n("td",[t._v("http://www.xxoo.com/404/500")]),t._v(" "),n("td",[t._v("https://www.xxoo.com/404/500")])]),t._v(" "),n("tr",[n("td",[t._v("http://xxoo.com")]),t._v(" "),n("td",[t._v("https://www.xxoo.com")])]),t._v(" "),n("tr",[n("td",[t._v("https://www.xxoo.com")]),t._v(" "),n("td",[t._v("-（原链接不变）")])]),t._v(" "),n("tr",[n("td",[t._v("https://xxoo.com/500")]),t._v(" "),n("td",[t._v("https://www.xxoo.com/500")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"强烈推荐"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#强烈推荐","aria-hidden":"true"}},[this._v("#")]),this._v(" 强烈推荐")])}],!1,null,null,null);e.default=s.exports}}]);